# 我的伊甸园(My-Eden) - 需求文档 V1.0.0

## 文档信息
- **项目名称**: 我的伊甸园 (My-Eden)
- **版本**: 1.0.0
- **创建日期**: 2024-12-19
- **文档状态**: 需求分析完成，已生成PRD文档
- **PRD文档**: `prd/PRD-我的伊甸园-V1.0.0.md`

## 项目概述
我的伊甸园是一个虚拟社交世界应用，用户可以在其中与AI机器人进行社交互动，体验类似朋友圈的社交场景。系统采用前后端分离架构，快速原型开发模式。

## 1. 功能性需求

### 1.1 用户管理模块

#### 1.1.1 用户注册功能 ✅ 已分析
- 系统名称为我的伊甸园, 英文是My-Eden, 分前后端开发
- 用户注册, 手机号, 密码就可以创建用户, 随机用户昵称(上帝造物+userId)
- 手机号唯一性验证
- 注册成功后可直接登录系统

#### 1.1.2 用户登录功能 ✅ 已分析
- 用户登录, 使用手机号, 密码登录
- 首次登录后进入用户设置页面
- 非首次登录直接进入主界面
- 登录失败时给出相应提示信息

#### 1.1.3 用户设置功能 ✅ 已分析
- 首次登录后强制进入用户设置页面
- 设置个人资料包括：头像, 昵称, 称呼, 性别, 年龄, 生日, 一句话介绍, 背景, 血型, MBTI, 喜欢颜色, 喜欢的东西, 不喜欢的东西
- 设置完成后进入主界面
- 后续可随时修改个人资料

### 1.2 虚拟世界模块

#### 1.2.1 世界背景设置 ✅ 已分析
- 默认进入一个世界, 世界有自己的背景设置, 基本世界观
- 世界中有多个机器人
- 世界设定通过yaml文件配置管理
- 用户登录后默认进入该世界

#### 1.2.2 AI机器人设定 ✅ 已分析
- 机器人有自己设定, 包括名称(唯一), 头像, 性别, 一句话简介, 设定, 职业, 性格, MBTI, 回复速度, 回复频度, 分享频度
- 机器人名称具有唯一性约束
- 所有设定通过yaml文件维护
- 设定修改后能够实时生效

#### 1.2.3 职业设定管理 ✅ 已分析
- 职业设定, 活跃时间段, 职业设定
- 职业设定包含活跃时间段配置
- 职业设定影响机器人的行为模式
- 职业设定与机器人其他属性关联

### 1.3 朋友圈模块

#### 1.3.1 动态发布功能 ✅ 已分析
- 模拟一个朋友圈，列出最近10条朋友圈动态, 新的排在前面, 包含用户或者机器人发的动态
- 动态可以是文字, 也可以是图文, 最多9张图
- 动态按时间倒序排列，最新动态在前
- 动态包含发布者信息（用户或机器人）

#### 1.3.2 动态评论功能 ✅ 已分析
- 动态可以评论, 评论只能是文字
- 用户可以对任何动态进行文字评论
- 评论按时间顺序显示
- 评论可以被其他用户回复

#### 1.3.3 评论回复功能 ✅ 已分析
- 评论可以被回复, 在单独的评论回复列表页面
- 用户可以对评论进行回复
- 回复在单独的评论回复列表页面显示
- 回复按时间顺序排列
- 回复功能支持多层级回复

### 1.4 AI机器人行为模块

#### 1.4.1 机器人动态发布 ✅ 已分析
- 机器人根据职业的时间段和分享频度,推算动态发布几率来发布随机动态, 每天1-3条
- 动态内容根据机器人设定自动生成
- 发布时机考虑机器人的活跃时间段
- 发布频率符合设定要求（每天1-3条）

#### 1.4.2 机器人评论行为 ✅ 已分析
- 机器人根据回复频度, 回复速度设定, 随机评论用户或者其他机器人的动态
- 评论内容根据机器人设定生成
- 评论时机考虑机器人的回复速度设定
- 评论频率符合设定要求

#### 1.4.3 机器人回复行为 ✅ 已分析
- 机器人根据回复频度, 回复速度设定, 随机回复用户或者其他机器人的评论
- 机器人回复时, 生成内心活动
- 回复内容体现机器人的性格特征
- 回复行为符合机器人设定

## 2. 非功能性需求

### 2.1 技术架构需求 ✅ 已分析
- 后端使用Java+SpringBoot开发
- 前端使用Vite+Vue开发
- 数据库使用MongoDB, 保存动态, 回复和评论
- 前后端使用RestfulAPI+WS, WS用来更新朋友圈, 动态, 回复等
- 所有设定都以yaml文件维护, 不使用数据库保存, 也不开发接口进行维护, 但需要考虑未来设定持久化方式重构

### 2.2 性能需求 ✅ 已分析
- 页面加载时间应小于3秒
- 动态发布响应时间小于2秒
- 支持并发用户访问
- WebSocket连接稳定，实时更新延迟小于1秒

### 2.3 安全性需求 ✅ 已分析
- 用户密码需加密存储
- 用户数据访问需要身份验证
- API接口需要适当的访问控制
- 文件上传需要安全验证

### 2.4 易用性需求 ✅ 已分析
- 新用户能在5分钟内完成注册和设置
- 界面设计简洁直观
- 操作流程符合用户习惯
- 移动端适配良好

### 2.5 兼容性需求 ✅ 已分析
- 支持主流浏览器Chrome、Firefox、Safari最新版
- 支持移动端响应式设计
- 支持不同屏幕尺寸的设备

### 2.6 扩展性需求 ✅ 已分析
- 合理考虑附件保存, 未来还可能有图片, 音乐和视频等内容
- 尽量简单, 以快速原型为目的, 不考虑开发不必要的数据设定接口, 不考虑审计, 不考虑数据备份
- AI通过调用Dify实现, Dify服务接口可以配置

## 3. 开发优先级

### 第一阶段：基础功能 ✅ 已规划
1. 用户注册登录功能
2. 基础界面搭建
3. 个人资料设置功能

### 第二阶段：核心功能 ✅ 已规划
1. 动态发布功能
2. 评论功能
3. 基础朋友圈展示

### 第三阶段：AI功能 ✅ 已规划
1. AI机器人设定和行为算法
2. 机器人自动发布动态
3. 机器人评论和回复功能

### 第四阶段：优化完善 ✅ 已规划
1. 实时通信集成
2. WebSocket功能完善
3. 性能优化和测试

## 4. 技术风险点

### 4.1 AI内容质量 ⚠️ 需要关注
- Dify API生成内容的质量和一致性
- 机器人回复的合理性和个性化程度

### 4.2 实时通信稳定性 ⚠️ 需要关注
- WebSocket连接的稳定性和性能
- 并发用户访问时的实时更新性能

### 4.3 文件存储扩展性 ⚠️ 需要关注
- 未来支持更多文件类型的存储方案
- 图片、音乐、视频等附件的存储架构

### 4.4 机器人行为复杂度 ⚠️ 需要关注
- 多个机器人同时行为的性能影响
- 机器人行为算法的复杂度和准确性

### 4.5 配置管理灵活性 ⚠️ 需要关注
- yaml文件配置的灵活性和可维护性
- 配置热加载和验证机制

## 5. 待明确事项

### 5.1 数据管理 ⏳ 待讨论
- 数据备份策略的具体方案
- 用户数据隐私保护措施
- 数据迁移和版本升级策略

### 5.2 功能扩展 ⏳ 待讨论
- 视频动态支持的具体实现方案
- 语音消息功能的可行性分析
- 更多社交功能的扩展规划

### 5.3 运营管理 ⏳ 待讨论
- 内容审核机制的具体实现
- 用户举报功能的处理流程
- 机器人行为监控和调整机制

### 5.4 技术细节 ⏳ 待讨论
- Dify服务接口的具体配置要求
- 单个世界中最多支持的机器人数量
- 文件存储的具体技术方案

## 6. 文档状态

- **需求分析状态**: ✅ 已完成
- **PRD文档状态**: ✅ 已生成 (`prd/PRD-我的伊甸园-V1.0.0.md`)
- **技术方案状态**: ⏳ 待细化
- **开发计划状态**: ✅ 已规划
- **风险评估状态**: ✅ 已识别

## 7. 更新记录

| 版本 | 日期 | 更新内容 | 状态 |
|------|------|----------|------|
| 1.0.0 | 2024-12-19 | 初始需求文档创建 | ✅ 完成 |
| 1.0.1 | 2024-12-19 | 根据PRD文档更新需求结构，添加分析状态 | ✅ 完成 |
