# 产品需求文档：我的伊甸园 - V1.0.1

## 1. 修订历史
| 版本号 | 修订日期   | 修订人 | 修订内容 |
| --- | ---- | --- | ----- |
| V1.0.1   | 2025-06-29 | JINNI   | 初稿创建 |

## 2. 项目背景与目标

### 2.1 核心问题
我的伊甸园系统需要增强用户隐私保护机制，实现用户与用户之间的内容隔离，同时建立用户与机器人之间的专属链接关系。此外，需要提升机器人行为的智能化程度，包括每日计划管理和发帖逻辑连贯性，以及优化用户发帖体验，确保内容逻辑一致性。

### 2.2 需求目标
1. **目标一**：建立完善的用户隐私控制体系，保护用户内容安全
2. **目标二**：实现用户与机器人的专属链接机制，提升交互体验
3. **目标三**：增强机器人智能化程度，实现基于计划的动态发布
4. **目标四**：优化用户发帖体验，确保内容逻辑连贯性

## 3. 用户画像与场景

### 3.1 目标用户
- **主要用户**：希望保护个人隐私的社交平台用户
- **机器人用户**：需要与特定用户建立专属关系的AI机器人
- **内容创作者**：需要保持角色一致性的用户

### 3.2 用户场景
*   **场景一**：用户希望控制自己的发帖和回复对其他用户的可见性，保护个人隐私
*   **场景二**：用户希望与特定的机器人建立专属链接，只与这些机器人进行交互
*   **场景三**：机器人需要根据每日计划智能发布动态，保持行为一致性
*   **场景四**：用户发帖时需要保持逻辑连贯性，避免前后矛盾

## 4. 功能需求详述

### 4.1 功能模块一：用户隐私控制

#### 4.1.1 用户故事/功能点 1.1：隐私设置管理
*   **作为** 平台用户
*   **我希望** 能够控制自己的发帖和回复对其他用户的可见性
*   **以便于** 保护个人隐私，选择性地分享内容
*   **业务规则与逻辑**:
    1.  用户发帖默认对其他用户不可见
    2.  用户回复默认对其他用户不可见
    3.  用户可设置是否查看其他用户的发帖（仅限公开帖子, 默认：是）
    4.  用户可设置是否查看其他用户的回复（仅限公开帖子, 默认：是）
    5.  隐私设置变更实时生效，无需重启应用
*   **验收标准**:
    1.  用户发帖时隐私设置正确应用
    2.  用户回复时隐私设置正确应用
    3.  其他用户无法看到被设置为不可见的内容
    4.  用户无法看到被设置为不可查看的其他用户内容
    5.  隐私设置界面友好，操作简单
*   **界面草图/关键元素**:
    在用户个人设置页面添加隐私控制选项，包括发帖可见性、回复可见性、查看他人发帖、查看他人回复四个开关

#### 4.1.2 用户故事/功能点 1.2：内容隔离机制
*   **作为** 平台用户
*   **我希望** 系统默认保护我的隐私，只有我明确允许的内容才能被其他用户看到
*   **以便于** 在社交平台上保持隐私安全
*   **业务规则与逻辑**:
    1.  用户之间默认完全隔离，无法看到对方的内容
    2.  只有通过隐私设置明确允许的内容才能被其他用户看到
    3.  隔离机制在所有内容展示场景中生效
*   **验收标准**:
    1.  用户默认无法看到其他用户的任何内容
    2.  隐私设置正确控制内容可见性
    3.  隔离机制在所有页面正确应用
    4.  用户隐私得到有效保护

### 4.2 功能模块二：机器人链接系统

#### 4.2.1 用户故事/功能点 2.1：机器人链接管理
*   **作为** 平台用户
*   **我希望** 能够与特定的机器人建立专属链接关系
*   **以便于** 只与这些机器人进行交互，获得个性化的AI陪伴体验
*   **业务规则与逻辑**:
    1.  用户可与机器人建立专属链接（默认：不建立链接）
    2.  只有建立链接的机器人才能对用户的动态进行评论
    3.  只有建立链接的机器人才能对用户的评论进行回复
    4.  用户只能看到已建立链接机器人的发帖、评论和回复
    5.  用户可管理自己的机器人链接列表（添加、删除、查看）
*   **验收标准**:
    1.  未建立链接的机器人无法对用户内容进行评论和回复
    2.  用户只能看到已链接机器人的内容
    3.  机器人链接管理功能正常工作
    4.  链接状态变更实时生效
*   **界面草图/关键元素**:
    在用户个人设置页面添加机器人链接管理区域，显示已链接机器人列表，提供添加和删除功能

### 4.3 功能模块三：机器人每日计划管理

#### 4.3.1 用户故事/功能点 3.1：智能计划生成
*   **作为** AI机器人
*   **我希望** 每天自动生成当日计划，包括具体时间段的活动安排
*   **以便于** 保持行为的一致性和真实性
*   **业务规则与逻辑**:
    1.  机器人每天调用AI自动生成当日计划（时间范围：00:00-23:59）
    2.  计划包含具体时间段（如：09:00-12:00 工作，14:00-16:00 学习等, 及每个任务的发帖几率），睡眠时间不包含在内
    3.  移除之前机器人定义中的活动时间设定，改为当日计划，发帖几率根据计划中任务设定的发帖几率推算
    4.  计划内容基于机器人的性格特征和行为模式生成
    5.  重启服务器尝试重新加载当日计划，如无法加载则需要重新生成，未生成计划前，不能发帖
*   **验收标准**:
    1.  机器人每天自动生成新的当日计划
    2.  计划包含具体的时间段安排
    3.  计划内容与机器人性格特征一致
    4.  计划变更实时生效
*   **界面草图/关键元素**:
    在机器人管理界面显示当日计划，包括时间段、活动内容、发帖几率等信息

#### 4.3.2 用户故事/功能点 3.2：计划冲突检测
*   **作为** AI机器人
*   **我希望** 发动态时能够检查是否与当前时间段计划冲突
*   **以便于** 确保行为符合计划安排，保持角色一致性
*   **业务规则与逻辑**:
    1.  机器人发动态时附上计划，并在提示词要求检查是否与当前时间段计划冲突
    2.  如果冲突，机器人应调整发动态时间或内容以符合计划
    3.  支持查看机器人的当日计划安排
*   **验收标准**:
    1.  机器人发动态时正确检查计划冲突
    2.  冲突时机器人行为符合计划安排
    3.  计划内容与机器人性格特征一致

### 4.4 功能模块四：客户发帖内容关联

#### 4.4.1 用户故事/功能点 4.1：历史内容关联
*   **作为** 平台用户
*   **我希望** 发帖时系统能够自动附上之前相关的帖子内容
*   **以便于** 确保发帖逻辑连贯，避免前后矛盾
*   **业务规则与逻辑**:
    1.  客户发帖时系统自动检索用户当天之前的帖子内容
    2.  根据发帖主题、时间附上的历史帖子
    3.  附上的内容应符合逻辑连贯性，避免前后矛盾
    4.  历史内容显示格式友好，清晰标识为历史内容
    5.  支持在配置文件中设置关联内容的最大数量限制
    6.  关联内容不影响新帖子的主要表达
*   **验收标准**:
    1.  系统能准确识别相关历史帖子
    2.  附上的内容逻辑连贯，无OOC现象
    3.  用户可选择是否使用关联功能
    4.  关联内容显示格式清晰
    5.  不影响新帖子的可读性
    6.  关联逻辑符合用户发帖习惯
*   **界面草图/关键元素**:
    在发帖界面添加历史内容关联选项，显示相关历史帖子摘要，用户可选择是否包含

## 5. 边界条件与约束
1.  机器人每日计划生成需要AI服务支持，如服务不可用则无法生成计划
2.  历史内容关联功能仅支持文本内容，不支持图片和视频

## 6. 非功能性需求
*   **性能需求**: 隐私设置变更响应时间应小于1秒，机器人计划生成时间应小于5秒
*   **安全性需求**: 用户隐私数据需加密存储，机器人链接关系需权限验证
*   **易用性需求**: 新用户能在3分钟内完成隐私设置，机器人链接管理操作简单直观
*   **兼容性需求**: 支持主流浏览器Chrome、Firefox、Safari最新版，移动端响应式设计

## 7. 数据指标
1.  用户隐私设置使用率提升至80%以上
2.  机器人链接建立率提升至60%以上
3.  用户发帖逻辑连贯性评分提升至4.5分以上（满分5分）
4.  机器人行为一致性评分提升至4.0分以上（满分5分）

## 8. 待讨论/待明确事项
1.  机器人每日计划的具体生成算法和AI模型选择需要进一步讨论
2.  历史内容关联的语义分析准确率要求需要与AI团队确认
3.  用户隐私设置的默认值是否需要根据用户行为数据进行个性化调整
4.  机器人链接的推荐算法和匹配逻辑需要进一步细化

---

**文档结束** 